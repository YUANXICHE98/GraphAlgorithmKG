{
  "stage_name": "final_kg",
  "stage_number": 5,
  "timestamp": "2025-08-16T11:31:56.589160",
  "description": "最终知识图谱，包含12个实体，10个关系",
  "data": {
    "metadata": {
      "schema": "spatiotemporal_schema.yaml",
      "source_document": "data/test_documents/dodaf_spatiotemporal.json",
      "created_at": "2025-08-16T11:31:56.588528",
      "processing_time": 0.1387169361114502,
      "builder_version": "3.0.0"
    },
    "entities": [
      {
        "id": "entity_d84f4e02",
        "name": "降水ID_005",
        "type": "MonitoringData",
        "properties": {
          "inference_method": "schema",
          "inference_time": 0.00010919570922851562,
          "original_name": "降水ID_005",
          "type_description": "监测数据实体，表示各种监测值和测量结果",
          "aliases": [
            "监测数据",
            "测量数据",
            "传感器数据"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_a0c76e85",
        "name": "ID_001",
        "type": "Unknown",
        "properties": {
          "inference_method": "unknown",
          "inference_time": 0.0001850128173828125,
          "original_name": "ID_001"
        },
        "confidence": 0.0,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_522bee96",
        "name": "2024-10-23 08:00",
        "type": "TemporalEntity",
        "properties": {
          "inference_method": "schema",
          "inference_time": 9.298324584960938e-06,
          "original_name": "2024-10-23 08:00",
          "type_description": "时间实体，表示时间点、时间段等时间概念",
          "aliases": [
            "时间实体",
            "时间概念",
            "确切时间",
            "不确定时间",
            "大致时间"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_b718adec",
        "name": "ID",
        "type": "View",
        "properties": {
          "inference_method": "schema",
          "inference_time": 5.817413330078125e-05,
          "original_name": "ID",
          "type_description": "视图实体，表示不同的架构视角",
          "aliases": [
            "视图",
            "视角"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_b4b147bc",
        "name": "00",
        "type": "Unknown",
        "properties": {
          "inference_method": "unknown",
          "inference_time": 0.00016117095947265625,
          "original_name": "00"
        },
        "confidence": 0.0,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_48387902",
        "name": "时空概念在水利领域中是用于描述水利事件及其相关实体在时间和空间维度上分布与动态变化的核心理论基础",
        "type": "TemporalEntity",
        "properties": {
          "inference_method": "schema",
          "inference_time": 3.0994415283203125e-06,
          "original_name": "时空概念在水利领域中是用于描述水利事件及其相关实体在时间和空间维度上分布与动态变化的核心理论基础",
          "type_description": "时间实体，表示时间点、时间段等时间概念",
          "aliases": [
            "时间实体",
            "时间概念",
            "确切时间",
            "不确定时间",
            "大致时间"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_80061894",
        "name": "F",
        "type": "Unknown",
        "properties": {
          "inference_method": "unknown",
          "inference_time": 0.00015997886657714844,
          "original_name": "F"
        },
        "confidence": 0.0,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_32f7a384",
        "name": "洪水事件ID_001",
        "type": "Event",
        "properties": {
          "inference_method": "schema",
          "inference_time": 2.09808349609375e-05,
          "original_name": "洪水事件ID_001",
          "type_description": "事件实体，具有时空属性的动态过程",
          "aliases": [
            "事件",
            "过程"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_03895f91",
        "name": "DA",
        "type": "View",
        "properties": {
          "inference_method": "schema",
          "inference_time": 5.6743621826171875e-05,
          "original_name": "DA",
          "type_description": "视图实体，表示不同的架构视角",
          "aliases": [
            "视图",
            "视角"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_a19ec699",
        "name": "4小",
        "type": "Unknown",
        "properties": {
          "inference_method": "unknown",
          "inference_time": 0.00016689300537109375,
          "original_name": "4小"
        },
        "confidence": 0.0,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_c23fa999",
        "name": "DO",
        "type": "View",
        "properties": {
          "inference_method": "schema",
          "inference_time": 5.793571472167969e-05,
          "original_name": "DO",
          "type_description": "视图实体，表示不同的架构视角",
          "aliases": [
            "视图",
            "视角"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "entity_91c60d85",
        "name": "执行水位监测（动作）",
        "type": "Action",
        "properties": {
          "inference_method": "schema",
          "inference_time": 2.4080276489257812e-05,
          "original_name": "执行水位监测（动作）",
          "type_description": "动作实体，表示系统中的行为或操作（DO）",
          "aliases": [
            "动作",
            "操作",
            "行为",
            "系统动作"
          ]
        },
        "confidence": 0.9,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      }
    ],
    "relations": [
      {
        "id": "rel_b78d9324",
        "subject_id": "entity_32f7a384",
        "subject_name": "洪水事件ID_001",
        "predicate": "hasStartTime",
        "object_id": "entity_522bee96",
        "object_name": "2024-10-23 08:00",
        "properties": {
          "extraction_confidence": 0.8,
          "triple_index": 0,
          "relation_description": "具有开始时间",
          "expected_subject_types": [
            "Event",
            "Action"
          ],
          "expected_object_types": [
            "TemporalEntity"
          ]
        },
        "confidence": 0.8,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_101e2782",
        "subject_id": "entity_b4b147bc",
        "subject_name": "00",
        "predicate": "hasDuration",
        "object_id": "entity_a19ec699",
        "object_name": "4小",
        "properties": {
          "extraction_confidence": 0.8,
          "triple_index": 1,
          "relation_description": "具有持续时间",
          "expected_subject_types": [
            "Event",
            "Action"
          ],
          "expected_object_types": [
            "TemporalEntity"
          ]
        },
        "confidence": 0.8,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_1376a8df",
        "subject_id": "entity_d84f4e02",
        "subject_name": "降水ID_005",
        "predicate": "locatedAt",
        "object_id": "entity_c23fa999",
        "object_name": "DO",
        "properties": {
          "extraction_confidence": 0.8,
          "triple_index": 2,
          "relation_description": "位于空间位置",
          "expected_subject_types": [
            "Event",
            "Action",
            "MonitoringStation"
          ],
          "expected_object_types": [
            "SpatialEntity"
          ]
        },
        "confidence": 0.8,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_e422b548",
        "subject_id": "entity_48387902",
        "subject_name": "时空概念在水利领域中是用于描述水利事件及其相关实体在时间和空间维度上分布与动态变化的核心理论基础",
        "predicate": "locatedAt",
        "object_id": "entity_a0c76e85",
        "object_name": "ID_001",
        "properties": {
          "extraction_confidence": 0.8,
          "triple_index": 3,
          "relation_description": "位于空间位置",
          "expected_subject_types": [
            "Event",
            "Action",
            "MonitoringStation"
          ],
          "expected_object_types": [
            "SpatialEntity"
          ]
        },
        "confidence": 0.8,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_ae62b3e7",
        "subject_id": "entity_48387902",
        "subject_name": "时空概念在水利领域中是用于描述水利事件及其相关实体在时间和空间维度上分布与动态变化的核心理论基础",
        "predicate": "hasCondition",
        "object_id": "entity_91c60d85",
        "object_name": "执行水位监测（动作）",
        "properties": {
          "extraction_confidence": 0.7,
          "triple_index": 4,
          "relation_description": "动作具有条件关系",
          "expected_subject_types": [
            "Action"
          ],
          "expected_object_types": [
            "Condition"
          ]
        },
        "confidence": 0.7,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_e7bdb004",
        "subject_id": "entity_80061894",
        "subject_name": "F",
        "predicate": "resultsIn",
        "object_id": "entity_91c60d85",
        "object_name": "执行水位监测（动作）",
        "properties": {
          "extraction_confidence": 0.7,
          "triple_index": 5,
          "relation_description": "结果关系",
          "expected_subject_types": [
            "Action",
            "Event"
          ],
          "expected_object_types": [
            "Outcome"
          ]
        },
        "confidence": 0.7,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_9b898985",
        "subject_id": "entity_b718adec",
        "subject_name": "ID",
        "predicate": "locatedAt",
        "object_id": "entity_a19ec699",
        "object_name": "4小",
        "properties": {
          "extraction_confidence": 0.6,
          "triple_index": 6,
          "relation_description": "位于空间位置",
          "expected_subject_types": [
            "Event",
            "Action",
            "MonitoringStation"
          ],
          "expected_object_types": [
            "SpatialEntity"
          ]
        },
        "confidence": 0.6,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_4c247ae3",
        "subject_id": "entity_b718adec",
        "subject_name": "ID",
        "predicate": "hasStartTime",
        "object_id": "entity_522bee96",
        "object_name": "2024-10-23 08:00",
        "properties": {
          "extraction_confidence": 0.6,
          "triple_index": 7,
          "relation_description": "具有开始时间",
          "expected_subject_types": [
            "Event",
            "Action"
          ],
          "expected_object_types": [
            "TemporalEntity"
          ]
        },
        "confidence": 0.6,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_bdb444af",
        "subject_id": "entity_a19ec699",
        "subject_name": "4小",
        "predicate": "hasStartTime",
        "object_id": "entity_522bee96",
        "object_name": "2024-10-23 08:00",
        "properties": {
          "extraction_confidence": 0.6,
          "triple_index": 8,
          "relation_description": "具有开始时间",
          "expected_subject_types": [
            "Event",
            "Action"
          ],
          "expected_object_types": [
            "TemporalEntity"
          ]
        },
        "confidence": 0.6,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      },
      {
        "id": "rel_05ab68eb",
        "subject_id": "entity_c23fa999",
        "subject_name": "DO",
        "predicate": "locatedAt",
        "object_id": "entity_03895f91",
        "object_name": "DA",
        "properties": {
          "extraction_confidence": 0.6,
          "triple_index": 9,
          "relation_description": "位于空间位置",
          "expected_subject_types": [
            "Event",
            "Action",
            "MonitoringStation"
          ],
          "expected_object_types": [
            "SpatialEntity"
          ]
        },
        "confidence": 0.6,
        "source": "data/test_documents/dodaf_spatiotemporal.json",
        "created_at": "2025-08-16T11:31:56.585546",
        "schema": "spatiotemporal_schema.yaml"
      }
    ],
    "statistics": {
      "total_entities": 12,
      "total_relations": 10,
      "entity_type_distribution": {
        "MonitoringData": 1,
        "Unknown": 4,
        "TemporalEntity": 2,
        "View": 3,
        "Event": 1,
        "Action": 1
      },
      "relation_type_distribution": {
        "hasStartTime": 3,
        "hasDuration": 1,
        "locatedAt": 4,
        "hasCondition": 1,
        "resultsIn": 1
      },
      "average_entity_confidence": 0.6000000000000001,
      "average_relation_confidence": 0.7,
      "extraction_method_breakdown": {
        "temporal_pattern": {
          "count": 2,
          "avg_confidence": 0.8
        },
        "spatial_pattern": {
          "count": 2,
          "avg_confidence": 0.8
        },
        "dodaf_pattern": {
          "count": 2,
          "avg_confidence": 0.7
        },
        "context_inference": {
          "count": 4,
          "avg_confidence": 0.6
        }
      },
      "rule_extraction_count": 12,
      "llm_extraction_count": 0,
      "extraction_methods_used": [
        "rule_extraction"
      ],
      "triple_extraction_time": 0.028750181198120117
    }
  }
}